(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"+UXh":function(e,t,n){"use strict";n.r(t),n.d(t,"COLOR_SCALE",(function(){return d}));var r=n("BFfR"),i=n("NMl0"),a=n("/PUF"),o=n("ErqJ"),c=n("NqPo"),u=n("ZRAw"),s=n("gbLn"),l="https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/highway/accidents.csv",g="https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/highway/roads.json",d=Object(c.a)().domain([0,4,8,12,20,32,52,84,136,220]).range([[26,152,80],[102,189,99],[166,217,106],[217,239,139],[255,255,191],[254,224,139],[253,174,97],[244,109,67],[215,48,39],[168,0,0]]),f=Object(u.a)().clamp(!0).domain([0,200]).range([10,2e3]),p=function(e){function t(t){var n;return(n=e.call(this,t)||this)._aggregateAccidents=function(e){var t={},r={};return e&&e.forEach((function(e){var i=t[e.year]=t[e.year]||{},a=r[e.year]=r[e.year]||{},o=n.getKey(e);i[o]=e.incidents,a[o]=e.fatalities})),{incidents:t,fatalities:r}},n._getLineColor=function(e,t){if(!t)return[200,200,200];var r=(t[n.getKey(e.properties)]||0)/e.properties.length*1e3;return d(r)},n._getLineWidth=function(e,t){if(!t)return 10;var r=(t[n.getKey(e.properties)]||0)/e.properties.length*1e3;return f(r)},n.formatRow=function(e){return Object.assign({},e,{incidents:Number(e.incidents),fatalities:Number(e.fatalities)})},n.deckLayer=null,n.viewState={center:[-100,38],zoom:4,pitch:40.5,bearing:0},n}Object(r.a)(t,e);var n=t.prototype;return n.initMap=function(){var t=this;e.prototype.initMap.call(this),s.a(l,this.formatRow,(function(e,n){var r=n[0].year,a=n;if(!e){var c=t._aggregateAccidents(a),u=c.fatalities,s=c.incidents;t.deckLayer=new i.a("deck",{layers:[new o.a({id:"geojson",data:g,opacity:1,stroked:!1,filled:!1,lineWidthMinPixels:.5,parameters:{depthTest:!1},getLineColor:function(e){return t._getLineColor(e,u[r])},getLineWidth:function(e){return t._getLineWidth(e,s[r])},pickable:!0,updateTriggers:{getLineColor:{year:r},getLineWidth:{year:r}},transitions:{getLineColor:1e3,getLineWidth:1e3}})]},{animation:!1,forceRenderOnMoving:!0,forceRenderOnZooming:!0,renderStart:function(){}}),t.map.addLayer(t.deckLayer)}}))},n.componentWillUnmount=function(){this.deckLayer&&this.deckLayer.remove(),e.prototype.componentWillUnmount.call(this)},n.getKey=function(e){return e.state+"-"+e.type+"-"+e.id},t}(a.default);t.default=p},NqPo:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("ZB9Y"),i=n("1LeD");function a(){var e,t=[.5],n=[0,1],o=1;function c(i){return i<=i?n[Object(r.a)(t,i,0,o)]:e}return c.domain=function(e){return arguments.length?(t=Array.from(e),o=Math.min(t.length,n.length-1),c):t.slice()},c.range=function(e){return arguments.length?(n=Array.from(e),o=Math.min(t.length,n.length-1),c):n.slice()},c.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},c.unknown=function(t){return arguments.length?(e=t,c):e},c.copy=function(){return a().domain(t).range(n).unknown(e)},i.a.apply(c,arguments)}}}]);
//# sourceMappingURL=component---src-pages-highway-tsx-6050c7d18390442ebd44.js.map